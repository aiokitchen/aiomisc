# Russian translations for aiomisc package.
# Copyright (C) 2026, Dmitry Orlov
# This file is distributed under the same license as the aiomisc package.
#
msgid ""
msgstr ""
"Project-Id-Version: aiomisc 17.10\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2026-02-09 00:31+0100\n"
"PO-Revision-Date: 2026-02-09 12:00+0100\n"
"Last-Translator: \n"
"Language: ru\n"
"Language-Team: ru <LL@li.org>\n"
"Plural-Forms: nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && "
"n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.17.0\n"

#: ../../source/services/system.rst:2
msgid "System Services"
msgstr "Системные сервисы"

#: ../../source/services/system.rst:4
msgid ""
"This section covers system-level services for debugging, profiling, "
"monitoring, and process management."
msgstr ""
"В этом разделе рассматриваются системные сервисы для отладки, "
"профилирования, мониторинга и управления процессами."

#: ../../source/services/system.rst:11
msgid "Memory Tracer"
msgstr "Трассировщик памяти"

#: ../../source/services/system.rst:13
msgid ""
"Simple and useful service for logging large python objects allocated in "
"memory."
msgstr ""
"Простой и полезный сервис для логирования крупных объектов Python, "
"выделенных в памяти."

#: ../../source/services/system.rst:17
msgid ""
"import asyncio\n"
"import os\n"
"from aiomisc import entrypoint\n"
"from aiomisc.service import MemoryTracer\n"
"\n"
"\n"
"async def main():\n"
"    leaking = []\n"
"\n"
"    while True:\n"
"        leaking.append(os.urandom(128))\n"
"        await asyncio.sleep(0)\n"
"\n"
"\n"
"with entrypoint(MemoryTracer(interval=1, top_results=5)) as loop:\n"
"    loop.run_until_complete(main())"
msgstr ""

#: ../../source/services/system.rst:37 ../../source/services/system.rst:86
msgid "Output example:"
msgstr "Пример вывода:"

#: ../../source/services/system.rst:39
msgid ""
"[T:[1] Thread Pool] INFO:aiomisc.service.tracer: Top memory usage:\n"
" Objects | Obj.Diff |   Memory | Mem.Diff | Traceback\n"
"      12 |       12 |   1.9KiB |   1.9KiB | aiomisc/periodic.py:40\n"
"      12 |       12 |   1.8KiB |   1.8KiB | aiomisc/entrypoint.py:93\n"
"       6 |        6 |   1.1KiB |   1.1KiB | aiomisc/thread_pool.py:71\n"
"       2 |        2 |   976.0B |   976.0B | aiomisc/thread_pool.py:44\n"
"       5 |        5 |   712.0B |   712.0B | aiomisc/thread_pool.py:52\n"
"\n"
"[T:[6] Thread Pool] INFO:aiomisc.service.tracer: Top memory usage:\n"
" Objects | Obj.Diff |   Memory | Mem.Diff | Traceback\n"
"   43999 |    43999 |   7.1MiB |   7.1MiB | scratches/scratch_8.py:11\n"
"      47 |       47 |   4.7KiB |   4.7KiB | "
"env/bin/../lib/python3.7/abc.py:143\n"
"      33 |       33 |   2.8KiB |   2.8KiB | "
"3.7/lib/python3.7/tracemalloc.py:113\n"
"      44 |       44 |   2.4KiB |   2.4KiB | "
"3.7/lib/python3.7/tracemalloc.py:185\n"
"      14 |       14 |   2.4KiB |   2.4KiB | aiomisc/periodic.py:40"
msgstr ""

#: ../../source/services/system.rst:61
msgid "Profiler"
msgstr "Профилировщик"

#: ../../source/services/system.rst:63
msgid ""
"Simple service for profiling. Optional `path` argument can be provided to"
" dump complete profiling data, which can be later used by, for example, "
"snakeviz. Also can change ordering with the `order` argument "
"(\"cumulative\" by default)."
msgstr ""
"Простой сервис для профилирования. Можно указать опциональный аргумент "
"`path` для сохранения полных данных профилирования, которые затем можно "
"использовать, например, с помощью snakeviz. Также можно изменить порядок "
"сортировки с помощью аргумента `order` (по умолчанию \"cumulative\")."

#: ../../source/services/system.rst:69
msgid ""
"import asyncio\n"
"import os\n"
"from aiomisc import entrypoint\n"
"from aiomisc.service import Profiler\n"
"\n"
"\n"
"async def main():\n"
"    for i in range(100):\n"
"        time.sleep(0.01)\n"
"\n"
"\n"
"with entrypoint(Profiler(interval=0.1, top_results=5)) as loop:\n"
"    loop.run_until_complete(main())"
msgstr ""

#: ../../source/services/system.rst:88
#, python-brace-format
msgid ""
"108 function calls in 1.117 seconds\n"
"\n"
"Ordered by: cumulative time\n"
"\n"
"ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n"
"   100    1.117    0.011    1.117    0.011 {built-in method time.sleep}\n"
"     1    0.000    0.000    0.000    0.000 "
"<...>/lib/python3.7/pstats.py:89(__init__)\n"
"     1    0.000    0.000    0.000    0.000 "
"<...>/lib/python3.7/pstats.py:99(init)\n"
"     1    0.000    0.000    0.000    0.000 "
"<...>/lib/python3.7/pstats.py:118(load_stats)\n"
"     1    0.000    0.000    0.000    0.000 "
"<...>/lib/python3.7/cProfile.py:50(create_stats)"
msgstr ""

#: ../../source/services/system.rst:105
msgid "Raven service"
msgstr "Сервис Raven"

#: ../../source/services/system.rst:107
msgid ""
"Simple service for sending unhandled exceptions to the `sentry`_ service "
"instance."
msgstr ""
"Простой сервис для отправки необработанных исключений в экземпляр сервиса"
" `sentry`_."

#: ../../source/services/system.rst:112
msgid "Simple example:"
msgstr "Простой пример:"

#: ../../source/services/system.rst:114
msgid ""
"import asyncio\n"
"import logging\n"
"import sys\n"
"\n"
"from aiomisc import entrypoint\n"
"from aiomisc.version import __version__\n"
"from aiomisc.service.raven import RavenSender\n"
"\n"
"\n"
"async def main():\n"
"    while True:\n"
"        await asyncio.sleep(1)\n"
"\n"
"        try:\n"
"            1 / 0\n"
"        except ZeroDivisionError:\n"
"            logging.exception(\"Exception\")\n"
"\n"
"\n"
"raven_sender = RavenSender(\n"
"    sentry_dsn=(\n"
"        "
"\"https://583ca3b555054f80873e751e8139e22a@o429974.ingest.sentry.io/\"\n"
"        \"5530251\"\n"
"    ),\n"
"    client_options=dict(\n"
"        # Got environment variable SENTRY_NAME by default\n"
"        name=\"example-from-aiomisc\",\n"
"        # Got environment variable SENTRY_ENVIRONMENT by default\n"
"        environment=\"simple_example\",\n"
"        # Got environment variable SENTRY_RELEASE by default\n"
"        release=__version__,\n"
"    )\n"
")\n"
"\n"
"\n"
"with entrypoint(raven_sender) as loop:\n"
"    loop.run_until_complete(main())"
msgstr ""

#: ../../source/services/system.rst:154
msgid "Full configuration:"
msgstr "Полная конфигурация:"

#: ../../source/services/system.rst:156
#, python-brace-format
msgid ""
"import asyncio\n"
"import logging\n"
"import sys\n"
"\n"
"from aiomisc import entrypoint\n"
"from aiomisc.version import __version__\n"
"from aiomisc.service.raven import RavenSender\n"
"\n"
"\n"
"async def main():\n"
"    while True:\n"
"        await asyncio.sleep(1)\n"
"\n"
"        try:\n"
"            1 / 0\n"
"        except ZeroDivisionError:\n"
"            logging.exception(\"Exception\")\n"
"\n"
"\n"
"raven_sender = RavenSender(\n"
"    sentry_dsn=(\n"
"        "
"\"https://583ca3b555054f80873e751e8139e22a@o429974.ingest.sentry.io/\"\n"
"        \"5530251\"\n"
"    ),\n"
"    client_options=dict(\n"
"        # Got environment variable SENTRY_NAME by default\n"
"        name=\"\",\n"
"        # Got environment variable SENTRY_ENVIRONMENT by default\n"
"        environment=\"full_example\",\n"
"        # Got environment variable SENTRY_RELEASE by default\n"
"        release=__version__,\n"
"\n"
"        # Default options values\n"
"        include_paths=set(),\n"
"        exclude_paths=set(),\n"
"        auto_log_stacks=True,\n"
"        capture_locals=True,\n"
"        string_max_length=400,\n"
"        list_max_length=50,\n"
"        site=None,\n"
"        include_versions=True,\n"
"        processors=(\n"
"            'raven.processors.SanitizePasswordsProcessor',\n"
"        ),\n"
"        sanitize_keys=None,\n"
"        context={'sys.argv': getattr(sys, 'argv', [])[:]},\n"
"        tags={},\n"
"        sample_rate=1,\n"
"        ignore_exceptions=(),\n"
"    )\n"
")\n"
"\n"
"\n"
"with entrypoint(raven_sender) as loop:\n"
"    loop.run_until_complete(main())"
msgstr ""

#: ../../source/services/system.rst:214
msgid ""
"You will find the full specification of options in the `Raven "
"documentation`_."
msgstr "Полную спецификацию опций можно найти в `документации Raven`_."

#: ../../source/services/system.rst:220
msgid "``SDWatchdogService``"
msgstr "``SDWatchdogService``"

#: ../../source/services/system.rst:222
msgid ""
"Ready to use service just adding to your entrypoint and notifying SystemD"
" service watchdog timer."
msgstr ""
"Готовый к использованию сервис — просто добавьте его в entrypoint, и он "
"будет уведомлять таймер watchdog сервиса SystemD."

#: ../../source/services/system.rst:225
msgid ""
"This can be safely added at any time, since if the service does not "
"detect systemd-related environment variables, then its initialization is "
"skipped."
msgstr ""
"Его можно безопасно добавлять в любое время, поскольку если сервис не "
"обнаруживает переменные окружения, связанные с systemd, его инициализация"
" пропускается."

#: ../../source/services/system.rst:228
msgid "Example of python file:"
msgstr "Пример файла Python:"

#: ../../source/services/system.rst:230
msgid ""
"import logging\n"
"from time import sleep\n"
"\n"
"from aiomisc import entrypoint\n"
"from aiomisc.service.sdwatchdog import SDWatchdogService\n"
"\n"
"\n"
"if __name__ == '__main__':\n"
"    with entrypoint(SDWatchdogService()) as loop:\n"
"        pass"
msgstr ""

#: ../../source/services/system.rst:245
msgid "Example of systemd service file:"
msgstr "Пример файла сервиса systemd:"

#: ../../source/services/system.rst:247
msgid ""
"[Service]\n"
"# Activating the notification mechanism\n"
"Type=notify\n"
"\n"
"# Command which should be started\n"
"ExecStart=/home/mosquito/.venv/aiomisc/bin/python "
"/home/mosquito/scratch.py\n"
"\n"
"# The time for which the program must send a watchdog notification\n"
"WatchdogSec=5\n"
"\n"
"# Kill the process if it has stopped responding to the watchdog timer\n"
"WatchdogSignal=SIGKILL\n"
"\n"
"# The service should be restarted on failure\n"
"Restart=on-failure\n"
"\n"
"# Try to kill the process instead of cgroup\n"
"KillMode=process\n"
"\n"
"# Trying to stop service properly\n"
"KillSignal=SIGINT\n"
"\n"
"# Trying to restart service properly\n"
"RestartKillSignal=SIGINT\n"
"\n"
"# Send SIGKILL when timeouts are exceeded\n"
"FinalKillSignal=SIGKILL\n"
"SendSIGKILL=yes"
msgstr ""

#: ../../source/services/system.rst:282
msgid "``ProcessService``"
msgstr "``ProcessService``"

#: ../../source/services/system.rst:284
msgid ""
"A base class for launching a function by a separate system process, and "
"by termination when the parent process is stopped."
msgstr ""
"Базовый класс для запуска функции в отдельном системном процессе с "
"завершением при остановке родительского процесса."

#: ../../source/services/system.rst:287
msgid ""
"from typing import Dict, Any\n"
"\n"
"import aiomisc.service\n"
"\n"
"# Fictional miner implementation\n"
"from .my_miner import Miner\n"
"\n"
"\n"
"class MiningService(aiomisc.service.ProcessService):\n"
"    bitcoin: bool = False\n"
"    monero: bool = False\n"
"    dogiecoin: bool = False\n"
"\n"
"    def in_process(self) -> Any:\n"
"        if self.bitcoin:\n"
"            miner = Miner(kind=\"bitcoin\")\n"
"        elif self.monero:\n"
"            miner = Miner(kind=\"monero\")\n"
"        elif self.dogiecoin:\n"
"            miner = Miner(kind=\"dogiecoin\")\n"
"        else:\n"
"            # Nothing to do\n"
"            return\n"
"\n"
"        miner.do_mining()\n"
"\n"
"\n"
"services = [\n"
"    MiningService(bitcoin=True),\n"
"    MiningService(monero=True),\n"
"    MiningService(dogiecoin=True),\n"
"]\n"
"\n"
"if __name__ == '__main__':\n"
"    with aiomisc.entrypoint(*services) as loop:\n"
"        loop.run_forever()"
msgstr ""

#: ../../source/services/system.rst:328
msgid "``RespawningProcessService``"
msgstr "``RespawningProcessService``"

#: ../../source/services/system.rst:330
msgid ""
"A base class for launching a function by a separate system process, and "
"by termination when the parent process is stopped, It's pretty like "
"`ProcessService` but have one difference when the process unexpectedly "
"exited this will be respawned."
msgstr ""
"Базовый класс для запуска функции в отдельном системном процессе с "
"завершением при остановке родительского процесса. Похож на "
"`ProcessService`, но с одним отличием: при неожиданном завершении "
"процесса он будет перезапущен."

#: ../../source/services/system.rst:335
msgid ""
"import logging\n"
"from typing import Any\n"
"\n"
"import aiomisc\n"
"\n"
"from time import sleep\n"
"\n"
"\n"
"class SuicideService(aiomisc.service.RespawningProcessService):\n"
"    def in_process(self) -> Any:\n"
"        sleep(10)\n"
"        logging.warning(\"Goodbye mad world\")\n"
"        exit(42)\n"
"\n"
"\n"
"if __name__ == '__main__':\n"
"    with aiomisc.entrypoint(SuicideService()) as loop:\n"
"        loop.run_forever()"
msgstr ""

#~ msgid ""
#~ "import asyncio\n"
#~ "import logging\n"
#~ "import sys\n"
#~ "\n"
#~ "from aiomisc import entrypoint\n"
#~ "from aiomisc.version import __version__\n"
#~ "from aiomisc.service.raven import RavenSender\n"
#~ "\n"
#~ "\n"
#~ "async def main():\n"
#~ "    while True:\n"
#~ "        await asyncio.sleep(1)\n"
#~ "\n"
#~ "        try:\n"
#~ "            1 / 0\n"
#~ "        except ZeroDivisionError:\n"
#~ "            logging.exception(\"Exception\")\n"
#~ "\n"
#~ "\n"
#~ "raven_sender = RavenSender(\n"
#~ "    sentry_dsn=(\n"
#~ "        "
#~ "\"https://583ca3b555054f80873e751e8139e22a@o429974.ingest.sentry.io/\""
#~ "\n"
#~ "        \"5530251\"\n"
#~ "    ),\n"
#~ "    client_options=dict(\n"
#~ "        # Got environment variable SENTRY_NAME by default\n"
#~ "        name=\"\",\n"
#~ "        # Got environment variable SENTRY_ENVIRONMENT by default\n"
#~ "        environment=\"full_example\",\n"
#~ "        # Got environment variable SENTRY_RELEASE by default\n"
#~ "        release=__version__,\n"
#~ "\n"
#~ "        # Default options values\n"
#~ "        include_paths=set(),\n"
#~ "        exclude_paths=set(),\n"
#~ "        auto_log_stacks=True,\n"
#~ "        capture_locals=True,\n"
#~ "        string_max_length=400,\n"
#~ "        list_max_length=50,\n"
#~ "        site=None,\n"
#~ "        include_versions=True,\n"
#~ "        processors=(\n"
#~ "            'raven.processors.SanitizePasswordsProcessor',\n"
#~ "        ),\n"
#~ "        sanitize_keys=None,\n"
#~ "        context={'sys.argv': getattr(sys, 'argv', )[:]},\n"
#~ "        tags={},\n"
#~ "        sample_rate=1,\n"
#~ "        ignore_exceptions=(),\n"
#~ "    )\n"
#~ ")\n"
#~ "\n"
#~ "\n"
#~ "with entrypoint(raven_sender) as loop:\n"
#~ "    loop.run_until_complete(main())"
#~ msgstr ""

