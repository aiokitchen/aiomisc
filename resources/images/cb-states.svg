<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="247px" preserveAspectRatio="none" style="width:425px;height:247px;" version="1.1" viewBox="0 0 425 247" width="425px" zoomAndPan="magnify"><defs><filter height="300%" id="f1or9eddrict0y" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="200" x="116" y="16.708">State Transition Model</text><rect fill="#FEFECE" filter="url(#f1or9eddrict0y)" height="50.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="145.5" y="28.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="145.5" x2="280.5" y1="55.25" y2="55.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="183" y="46.9482">PASSING</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="115" x="150.5" y="71.3887">Collecting statistic</text><rect fill="#FEFECE" filter="url(#f1or9eddrict0y)" height="50.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="15.5" y="185.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="15.5" x2="142.5" y1="212.25" y2="212.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="49.5" y="203.9482">BROKEN</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="107" x="20.5" y="228.3887">raising Exception</text><rect fill="#FEFECE" filter="url(#f1or9eddrict0y)" height="50.2656" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="280.5" y="185.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="280.5" x2="413.5" y1="212.25" y2="212.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="301" y="203.9482">RECOVERING</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="113" x="285.5" y="228.3887">Half-opened state</text><ellipse cx="16" cy="53.9531" fill="#000000" filter="url(#f1or9eddrict0y)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><!--link *start to PASSING--><path d="M26.0401,53.9531 C46.986,53.9531 96.971,53.9531 139.99,53.9531 " fill="none" id="*start-PASSING" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="145.199,53.9531,136.199,49.9531,140.199,53.9531,136.199,57.9531,145.199,53.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="44.25" y="47.02">Default state</text><!--link PASSING to BROKEN--><path d="M192.062,79.1721 C167.97,107.0401 128.476,152.7231 103.1179,182.0555 " fill="none" id="PASSING-BROKEN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="99.7905,185.9044,108.7024,181.7119,103.0605,182.1219,102.6504,176.4799,99.7905,185.9044" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="166" y="129.52">error_ratio</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="178.5" y="144.6528">reached</text><!--link BROKEN to RECOVERING--><path d="M142.512,210.9531 C182.294,210.9531 233.662,210.9531 274.962,210.9531 " fill="none" id="BROKEN-RECOVERING" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="280.204,210.9531,271.204,206.9531,275.204,210.9531,271.204,214.9531,280.204,210.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="161" y="204.02">start recovering</text><!--link RECOVERING to BROKEN--><path d="M280.249,226.3791 C269.68,228.2789 258.831,229.9149 248.5,230.9531 C215.776,234.2418 207.214,234.3419 174.5,230.9531 C165.757,230.0474 156.634,228.6872 147.645,227.0938 " fill="none" id="RECOVERING-BROKEN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="142.669,226.1861,150.8037,231.7383,147.5876,227.0846,152.2413,223.8685,142.669,226.1861" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="175.5" y="227.02">still errored</text><!--link RECOVERING to PASSING--><path d="M326.21,185.9044 C302.18,158.1091 262.689,112.4291 237.273,83.0301 " fill="none" id="RECOVERING-PASSING" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="233.938,79.1721,236.7993,88.5962,237.2085,82.9542,242.8506,83.3634,233.938,79.1721" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="300" y="122.02">successful result</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="313" y="137.1528">greater then</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="314.5" y="152.2856">error_ratio</text><!--
@startuml
title State Transition Model

state PASSING
state BROKEN
state RECOVERING

[*] -> PASSING: Default state
BROKEN: raising Exception
PASSING: Collecting statistic
RECOVERING: Half-opened state

PASSING - -> BROKEN: <b>error_ratio</b>\nreached
BROKEN -> RECOVERING: start recovering
RECOVERING - -> PASSING: successful result\ngreater then\n<b>error_ratio</b>
RECOVERING -> BROKEN: still errored

@enduml

PlantUML version 1.2019.05(Sat Apr 20 16:45:36 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.3+1-Debian-1bpo91
Operating System: Linux
OS Version: 4.19.76-linuxkit
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>